<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--// $Id$ //-->
<html><head>
<meta name="GENERATOR" content="LMS {$layout.lmsv}">
<meta http-equiv="Content-Language" content="{$LANGDEFS.$_ui_language.html}">
<meta http-equiv="Content-Type" content="text/html; charset={$LANGDEFS.$_ui_language.charset}">
<title>::: LMS :{if $layout.pagetitle != ""} {$layout.pagetitle} :{/if}::</title>
<link href="img/style.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="img/common.js"></SCRIPT>
</head>
<body>
<div id="overDiv" style="position:absolute; visibility:hidden; z-index:100;"></div>
<script type="text/javascript" language="JavaScript" src="img/overlib.js"></script>
<script type="text/javascript">
<!--
	
	var ndspDict = {};

	function SaveForm()
	{
		var result = '';
		var inputTags = document.getElementsByTagName('input');

		for (var i=0; i<inputTags.length; i++)
		{
			if (inputTags[i].type='checkbox' 
					&& inputTags[i].name.lastIndexOf('nd',0)===0 
					&& inputTags[i].checked) {
				if (result!='') {
					result += ',';
				}
				result += inputTags[i].value;
			}
		}
		window.parent.location='?m=netnodeaddobj&id={$objectid}&list='+result;
		window.parent.popclick();
	}

	function CloseForm() {
		window.parent.popclick();
	}

	function FilterForm() {
		var txt = document.getElementById('flt').value;
		if (txt.trim() != '') {
			txt = txt.toLowerCase();
			var rows = document.getElementsByTagName('tr');
			for (var i=0; i<rows.length; i++)
			{
				if (rows[i].id.lastIndexOf('ndsp',0)===0) {
					if (ndspDict[rows[i].id] != '' && ndspDict[rows[i].id].lastIndexOf(txt,0) != 0) {
						rows[i].style.display = 'none';
					} else {
						rows[i].style.display = '';
					}
				}
			}
		} else {
			var rows = document.getElementsByTagName('tr');
			for (var i=0; i<rows.length; i++) {
				if (rows[i].id.lastIndexOf('ndsp',0)===0) {
				  rows[i].style.display = '';
				}
			}
		}
	}
//-->
</script>
<table cellpadding="5" width="100%">
	<tr>
		<td class="fall dark" align="center">
			<B>{trans("Select net objects to add")}</B>
		</td>
	</tr>
</table>
<form name="netobjlist">
<div style="overflow:auto;height:235px;">
<table width="100%" cellpadding="3" id="table">
	{cycle values="light,lucid" print=false}
	{if $netobjlist.total > 0}
	{section name=netobjlist loop=$netobjlist}
	{if $netobjlist[netobjlist].id}
	<script type="text/javascript">
	<!--
		ndspDict['ndsp{$netobjlist[netobjlist].id}'] = '{$netobjlist[netobjlist].name}'.toLowerCase();
	//-->
	</script>
	<tr class="highlight {cycle}"  id="ndsp{$netobjlist[netobjlist].id}" >
		<td width="1%">
			<input type="checkbox" class="box {cycle print=false}{cycle}" name="nd{$netobjlist[netobjlist].id}" id="nd{$netobjlist[netobjlist].id}" value="{$netobjlist[netobjlist].id}">
		</td>
		<td width="99%" style="vertical-align: top;">
			<table width="100%">

			    <tr>
				<td width="1%"><img src="img/netobj.gif" alt=""></td>
				<td width="99%"><b>{$netobjlist[netobjlist].name}</b></td>
				<td width="1%"><img src="img/producer.gif" alt=""></td>
				<td width="99%"><nobr>{$netobjlist[netobjlist].producer} / {$netobjlist[netobjlist].model} </nobr></td>
			    </tr>
			    {if $netobjlist[netobjlist].location}
			    <tr>
				<td width="1%"><img src="img/home.gif" alt=""></td>
				<td width="99%"><nobr>{$netobjlist[netobjlist].location|truncate:60:"...":true}</nobr></td>
			    </tr>
			    {/if}
			</table>
		</td>
	</tr>
	{/if}
	{/section}
	{else}
	<tr>
		<td width="100%" colspan="3" align="center">
			<p>&nbsp;</p>
			<p><b>{trans("Net objects are missing.")}</b></p>
			<p>&nbsp;</p>
		</td>
	</tr>
	{/if}
</table>
</div>
<table  style="width:100%;" id="panel" >
	<tr>
		<td width="100%" colspan="3" align="center">
		    <table width="100%" cellpadding="3" id="table">
			<tr>
				<td align="left" class="fall dark">
					<nobr><img src="img/cancel.gif" alt=""> <a href="javascript:CloseForm()">{trans("Cancel")} </a></nobr>
			    	</td>
			    <td align="left" class="fall dark">
			    	{if $netobjlist.total > 0}
				<nobr><input class="box" type="checkbox" name="allbox" id="allbox" onchange="CheckAll('netobjlist', this)" value="1"><label for="allbox">{trans("Check All")}</label></nobr>
				{/if}
			    </td>
			    <td class="fall dark">
				    <IMG src="img/search.gif" ALT="{trans('Filter objects by name')}"/> <INPUT TYPE="text" NAME="flt" ID="flt" {tip text="Filter objects by name"} onkeyup="FilterForm();"/> 
			    </td>
			    
			    <td align="right" class="fall dark">
				<nobr><a href="javascript:SaveForm()">{trans("Add")} <img src="img/save.gif" alt=""></a></nobr>
			    </td>
			</tr>
		    </table>
		</td>
	</tr>
</table>
</form>
</body>
</html>
