<!--// $Id$ //-->
<TABLE class="lmsbox">
    <THEAD>
	<TR>
		<TD style="width: 100%;" class="hand nobr" onClick="showOrHide('objectsplices');">
			<IMG SRC="img/mac.gif" alt="">
			<span class="bold">{t a=$netobjlist|@count}Splices used ($a):{/t}</span>
		</TD>
	</TR>
    </THEAD>
    <TBODY>
	<TR id="objectsplices" style="display:none;">
		<TD style="width: 100%;">
			<TABLE class="lmsbox-inner">
        <THEAD>
	<TR>
		<TD style="width: 96%;">
			<IMG src="img/netobj.gif" ALT=""> <span class="bold">{trans("Name")} / {trans("Producer")}:</span><BR>
			<IMG src="img/home.gif" ALT=""> {trans("Location:")}
		</TD>
		<TD style="width: 1%;" class="nobr">
			{trans("Link technology:")}<BR>
			{trans("Link speed:")}
		</TD>
		<TD style="width: 1%;" class="text-right nobr">
			{trans("Port")}:<BR>
			{trans("ID:")}
		</TD>
		<TD style="width: 1%;" class="nobr">
			<IMG src="img/netobj_takenposrts.gif" ALT=""> {trans("Dest. port")}:<BR>
			<IMG src="img/port.gif" ALT=""> {trans("Ports (used):")}
		</TD>
		<TD style="width: 1%;">
			&nbsp;
		</TD>
	</TR>
        </THEAD>
        <TBODY>
	{cycle values="light,lucid" print=false}
	{section name=netobjlist loop=$netobjlist start=$start}
	<TR class="highlight {cycle}">
		<TD class="valign-top nobr" onClick="return self.location.href='?m=netobjinfo&id={$netobjlist[netobjlist].id}';">
			<IMG src="img/netobj.gif" ALT=""> <a name="{$netobjlist[netobjlist].id}"><span class="bold">{$netobjlist[netobjlist].name} {if $netobjlist[netobjlist].producer}/ {$netobjlist[netobjlist].producer}{/if}</span></A><BR>
			<IMG src="img/home.gif" ALT=""> {$netobjlist[netobjlist].location}{if $netobjlist[netobjlist].borough_name} ({$netobjlist[netobjlist].state_name} / {$netobjlist[netobjlist].district_name} / {$_BOROUGHTYPES[$netobjlist[netobjlist].borough_type]} {$netobjlist[netobjlist].borough_name}){/if}
		</TD>
		<TD class="valign-top nobr" id="dev_{$netobjlist[netobjlist].id}">
			{if $netobjlist[netobjlist].linktechnology}{$_LINKTECHNOLOGIES[$netobjlist[netobjlist].linktype][$netobjlist[netobjlist].linktechnology]}{/if}{if $netobjlist[netobjlist].linktype == 1 && ($netobjlist[netobjlist].srcradiosector || $netobjlist[netobjlist].dstradiosector)} ({if $netobjlist[netobjlist].srcradiosector}{$netobjlist[netobjlist].srcradiosector}{else}-{/if}/{if $netobjlist[netobjlist].dstradiosector}{$netobjlist[netobjlist].dstradiosector}{else}-{/if}){/if}<BR>
			{if $netobjlist[netobjlist].linkspeed}{$_LINKSPEEDS[$netobjlist[netobjlist].linkspeed]}{/if}
		</TD>
		<TD class="text-right nobr" onClick="return self.location.href='?m=netobjinfo&id={$netobjlist[netobjlist].id}';">
			<IMG src="img/empty.gif" height="16">[{if $netobjlist[netobjlist].srcport}{$netobjlist[netobjlist].srcport}{/if}]<BR>
			({$netobjlist[netobjlist].id|string_format:"%04d"})
		</TD>
		<TD class="nobr">
			<span id="devlinkproperties_{$netobjlist[netobjlist].id}" onClick="javascript:netlinkpropertieschoosewin('{$netobjinfo.id}', '{$netobjlist[netobjlist].id}', true);">
				<IMG SRC="img/{if $netobjlist[netobjlist].linktype == 1}wireless.gif{elseif $netobjlist[netobjlist].linktype == 2}netobj_takensplices.gif{else}netobj_takensplices.gif{/if}" alt="[ {trans("Change connection properties")} ]" title="[ {trans("Change connection properties")} ]" {tip trigger="devlinkproperties_$netobjlist[netobjlist].id" text="<span style=\"white-space: nowrap;\">{trans("Link type:")} {$_LINKTYPES[$netobjlist[netobjlist].linktype]}<br>{if $netobjlist[netobjlist].linktype == 1}{if $netobjlist[netobjlist].srcradiosector}{trans("Radio sector:")} {$netobjlist[netobjlist].srcradiosector}<br>{/if}{if $netobjlist[netobjlist].dstradiosector}{trans("Destination radio sector:")} {$netobjlist[netobjlist].dstradiosector}<br>{/if}{/if}{if $netobjlist[netobjlist].linktechnology}{trans("Link technology:")} {$_LINKTECHNOLOGIES[$netobjlist[netobjlist].linktype][$netobjlist[netobjlist].linktechnology]}<br>{/if}{trans("Link speed:")} {$_LINKSPEEDS[$netobjlist[netobjlist].linkspeed]}</span>"}>
			</span>
			<span onClick="return self.location.href='?m=netobjinfo&id={$netobjlist[netobjlist].id}';">
			[{if $netobjlist[netobjlist].position}{$netobjlist[netobjlist].position}{/if}]
			<BR><IMG SRC="img/port.gif" ALT=""> {$netobjlist[netobjlist].splices} ({$netobjlist[netobjlist].takensplices})
			</span>
		</TD>
		<TD class="text-right">
			<A HREF="?m=netobjedit&action=disconnect&id={$netobjinfo.id}&devid={$netobjlist[netobjlist].id}" OnClick="return confirmLink(this, '{trans("Are you sure, you want to delete that connection?")}');"><IMG SRC="img/delete.gif" {tip text="Delete connection"}></A>
		</TD>
	</TR>
	{sectionelse}
	<TR>
		<TD colspan="6" class="empty-table">
			<P>&nbsp;</P>
			<P>{trans("No such connected devices.")}</P>
			<P>&nbsp;</P>
		</TD>
	</TR>
	{/section}
	<TR>
		<TD class="ftop dark text-center nobr" COLSPAN="6">
			{if $netobjinfo.splices == $netobjinfo.takensplices}
			<span class="bold">{trans("All splices in that object are in use.")}</span>
			{elseif !$cablelist}
			<span class="bold">{trans("No cables for connection.")}</span>
			{else}
			<FORM METHOD="GET" ACTION="?m=netobjedit" NAME="connect">
			<INPUT type="submit" class="hiddenbtn">
			<INPUT TYPE="HIDDEN" NAME="m" VALUE="netobjedit">
			<INPUT TYPE="HIDDEN" NAME="id" VALUE="{$netobjinfo.id}">
			<INPUT TYPE="HIDDEN" NAME="action" VALUE="connect">
			<TABLE style="width: 100%;">
				<TR>
					<TD style="width: 99%; white-space: nowrap;">
						<span class="bold">{trans("Connect")}:</span>
						{trans("Cable #1:")}<SELECT NAME="netobj1" id="srcnetobj" style="width: 300px" {tip trigger="link" text="Select from cable list for connection"}>
						{section name=cablelist loop=$cablelist}
						{$cable=$cablelist[cablelist]}
						<OPTGROUP LABEL="{$cable.name}">
						{foreach key=tube item=tubelist from=$cable.splices}
						<OPTGROUP LABEL="{trans("tube")} #{$tube} ({$_FIBEROPTICCOLORCODES[$tube]})">
						{foreach key=fiber item=fiberlist from=$tubelist}
						#{if $fiberlist<0}
							<OPTION VALUE="{$tube},{$fiber}">{trans("fiber<!singular>")} #{$fiber} ({$_FIBEROPTICCOLORCODES[$fiber]})</OPTION>
						#{/if}
						{/foreach}
						{/foreach}
						</OPTGROUP>
						{/section}
						</SELECT>
                                                {trans("Cable #2:")}<SELECT NAME="netobj2" id="dstnetobj" style="width: 300px" {tip trigger="link" text="Select from cable list for connection"}>
                                                {section name=cablelist loop=$cablelist}
                                                {$cable=$cablelist[cablelist]}
                                                <OPTGROUP LABEL="{$cable.name}">
                                                {foreach key=tube item=tubelist from=$cable.splices}
                                                <OPTGROUP LABEL="{trans("tube")} #{$tube} ({$_FIBEROPTICCOLORCODES[$tube]})">
                                                {foreach key=fiber item=fiberlist from=$tubelist}
                                                #{if $fiberlist<0}
                                                        <OPTION VALUE="{$tube},{$fiber}">{trans("fiber<!singular>")} #{$fiber} ({$_FIBEROPTICCOLORCODES[$fiber]})</OPTION>
                                                #{/if}
                                                {/foreach}
                                                {/foreach}
                                                </OPTGROUP>
                                                {/section}
						</SELECT>
						<label for="position">{trans("Position")}:</label><INPUT name="position" id="position" value="{if $connect.position}{$connect.position}{/if}" size="2" {tip text="Enter position in object for splice (optional)" trigger="position"}>
						<label for="description">{trans("Description")}:</label><INPUT name="description" id="description" value="{if $connect.description}{$connect.description}{/if}" size="20" {tip text="Enter description for splice (optional)" trigger="position"}>
					</TD>
					<TD style="width: 1%; white-space: nowrap;">
						<A HREF="javascript:document.connect.submit(); ">{trans("Connect")}</A> <IMG src="img/save.gif" alt="">
					</TD>
				</TR>
			</TABLE>
			</FORM>
			{/if}
		</TD>
	</TR>
    </TBODY>
</TABLE>
               </TD>
       </TR>
    </TBODY>
</TABLE>
